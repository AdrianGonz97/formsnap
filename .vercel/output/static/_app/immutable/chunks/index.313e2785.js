import{j as ye,w as T}from"./singletons.01533805.js";import{o as Oe,U as A,t as X,V as ve,W as ke,s as ie,C as W,G as J,H as q,I as G,B as K,S as Ce,e as Y,i as le,d as R,z as Z,r as j,A as Ee,f as we,g as Se,h as Te,D as x,E as Pe,F as $,J as De}from"./scheduler.9a75ed56.js";import{S as ce,i as ue,a as U,t as I,g as Me,c as Ue}from"./index.7ac402cb.js";import{i as Ie,e as F,b as V,u as ee,n as v,d as Le,k as B,f as te,r as Ve,h as Be,j as se,g as Ne,m as de}from"./index.96f6542b.js";import{t as Ae,g as N,o as Fe,e as C,s as He,b as E,r as ze,a as Ke,d as re,f as Re,h as je,u as We,l as Je,c as qe}from"./events.ac042ba1.js";import"./index.3a808bdd.js";const{name:w}=Ke("dialog"),Ge={preventScroll:!0,closeOnEscape:!0,closeOnOutsideClick:!0,role:"dialog",defaultOpen:!1,portal:"body",forceVisible:!1},H=T([]);function Qe(t){const e={...Ge,...t},s=Ae(e),{preventScroll:n,closeOnEscape:o,closeOnOutsideClick:d,role:c,portal:m,forceVisible:g}=s,r=T(null),a={content:N(),title:N(),description:N(),trigger:N()},p=e.open??T(e.defaultOpen),f=Fe(p,e==null?void 0:e.onOpenChange),O=ye([f,g],([i,_])=>i||_);function S(i){const _=i.currentTarget,u=i.currentTarget;!te(_)||!te(u)||(f.set(!0),r.set(u))}function h(){f.set(!1);const i=document.getElementById(a.trigger);i&&X().then(()=>{i.focus()})}Oe(()=>{r.set(document.getElementById(a.trigger))}),C([f],([i])=>{He(100).then(()=>{i?H.update(_=>(_.push(a.content),_)):H.update(_=>_.filter(u=>u!==a.content))})});const P=E(w("trigger"),{stores:f,returned:i=>({id:a.trigger,"aria-haspopup":"dialog","aria-expanded":i,"aria-controls":a.content,type:"button"}),action:i=>({destroy:F(V(i,"click",u=>{S(u)}),V(i,"keydown",u=>{u.key!==B.ENTER&&u.key!==B.SPACE||(u.preventDefault(),S(u))}))})}),L=E(w("overlay"),{stores:[O],returned:([i])=>({hidden:i?void 0:!0,tabindex:-1,style:re({display:i?void 0:"none"}),"aria-hidden":!0,"data-state":i?"open":"closed"}),action:i=>{let _=v;if(A(o)){const u=ee(i,{handler:()=>{h()}});u&&u.destroy&&(_=u.destroy)}return{destroy(){_()}}}}),k=E(w("content"),{stores:[O],returned:([i])=>({id:a.content,role:A(c),"aria-describedby":a.description,"aria-labelledby":a.title,"data-state":i?"open":"closed",tabindex:-1,hidden:i?void 0:!0,style:re({display:i?void 0:"none"})}),action:i=>{let _=v,u=v;return{destroy:F(C([f],([b])=>{if(!b)return;const y=Re({immediate:!1,escapeDeactivates:!1,returnFocusOnDeactivate:!1,fallbackFocus:i});_=y.activate,u=y.deactivate;const M=y.useFocusTrap(i);return M&&M.destroy?M.destroy:y.deactivate}),C([d,f],([b,y])=>Le(i,{enabled:y,handler:M=>{if(M.defaultPrevented)return;const be=A(H),he=Je(be)===a.content;b&&he&&h()}}).destroy),C([o],([b])=>{if(!b)return v;const y=ee(i,{handler:()=>{h()}});return y&&y.destroy?y.destroy:v}),C([O],([b])=>{X().then(()=>{b?_():u()})}))}}}),l=E(w("portalled"),{stores:m,returned:i=>({"data-portal":i?"":void 0}),action:i=>{const _=C([m],([u])=>{if(!u)return v;const D=je(i,u);if(D===null)return v;const b=We(i,D);return b&&b.destroy?b.destroy:v});return{destroy(){_()}}}}),me=E(w("title"),{returned:()=>({id:a.title})}),pe=E(w("description"),{returned:()=>({id:a.description})}),_e=E(w("close"),{returned:()=>({type:"button"}),action:i=>({destroy:F(V(i,"click",()=>{h()}),V(i,"keydown",u=>{u.key!==B.SPACE&&u.key!==B.ENTER||(u.preventDefault(),h())}))})});return C([f,n],([i,_])=>{if(!Ie)return;const u=[];return _&&i&&u.push(ze()),()=>{u.forEach(D=>D())}}),{elements:{content:k,trigger:P,title:me,description:pe,overlay:L,close:_e,portalled:l},states:{open:f},options:s}}const fe="Dialog",ge={set:Xe,get:Ye};function Xe(t){const e=Qe({...Ve(t),role:"dialog"});return ve(fe,{...e,transitionTimes:t.transitionTimes,tOpen:t.tOpen}),{...e,updateOption:Be(e.options)}}function Ye(){return ke(fe)}function Ze(t){let e;const s=t[10].default,n=W(s,t,t[9],null);return{c(){n&&n.c()},l(o){n&&n.l(o)},m(o,d){n&&n.m(o,d),e=!0},p(o,[d]){n&&n.p&&(!e||d&512)&&J(n,s,o,o[9],e?G(s,o[9],d,null):q(o[9]),null)},i(o){e||(U(n,o),e=!0)},o(o){I(n,o),e=!1},d(o){n&&n.d(o)}}}function xe(t,e,s){let n,o,{$$slots:d={},$$scope:c}=e,{preventScroll:m=void 0}=e,{closeOnEscape:g=void 0}=e,{closeOnOutsideClick:r=void 0}=e,{portal:a=void 0}=e,{forceVisible:p=!0}=e,{open:f=void 0}=e,{onOpenChange:O=void 0}=e;const S=T({});K(t,S,l=>s(12,n=l));const h=T(f);K(t,h,l=>s(13,o=l));let P=0;const{states:{open:L},updateOption:k}=ge.set({closeOnEscape:g,preventScroll:m,closeOnOutsideClick:r,portal:a,forceVisible:p,defaultOpen:f,transitionTimes:S,tOpen:h,onOpenChange:({next:l})=>se?(window.clearTimeout(P),f!==l&&(O==null||O(l)),l!==o?(h.set(l),l?(s(2,f=l),l):(P=window.setTimeout(()=>{L.set(l)},n.out?n.out*.6:0),s(2,f=!l),!l)):(s(2,f=l),l)):l});return Ce(()=>{se&&window.clearTimeout(P)}),t.$$set=l=>{"preventScroll"in l&&s(3,m=l.preventScroll),"closeOnEscape"in l&&s(4,g=l.closeOnEscape),"closeOnOutsideClick"in l&&s(5,r=l.closeOnOutsideClick),"portal"in l&&s(6,a=l.portal),"forceVisible"in l&&s(7,p=l.forceVisible),"open"in l&&s(2,f=l.open),"onOpenChange"in l&&s(8,O=l.onOpenChange),"$$scope"in l&&s(9,c=l.$$scope)},t.$$.update=()=>{t.$$.dirty&4&&f!==void 0&&L.set(f),t.$$.dirty&8&&k("preventScroll",m),t.$$.dirty&16&&k("closeOnEscape",g),t.$$.dirty&32&&k("closeOnOutsideClick",r),t.$$.dirty&64&&k("portal",a),t.$$.dirty&128&&k("forceVisible",p)},[S,h,f,m,g,r,a,p,O,c,d]}class $e extends ce{constructor(e){super(),ue(this,e,xe,Ze,ie,{preventScroll:3,closeOnEscape:4,closeOnOutsideClick:5,portal:6,forceVisible:7,open:2,onOpenChange:8})}}const et=t=>({builder:t&2}),ne=t=>({builder:t[7]}),tt=t=>({builder:t&2}),oe=t=>({builder:t[1]});function st(t){const e=t.slice(),s=e[1];return e[7]=s,e}function rt(t){let e,s,n,o;const d=t[6].default,c=W(d,t,t[5],ne);let m=[t[7],t[4]],g={};for(let r=0;r<m.length;r+=1)g=j(g,m[r]);return{c(){e=we("button"),c&&c.c(),this.h()},l(r){e=Se(r,"BUTTON",{});var a=Te(e);c&&c.l(a),a.forEach(R),this.h()},h(){x(e,g)},m(r,a){le(r,e,a),c&&c.m(e,null),e.autofocus&&e.focus(),s=!0,n||(o=[Pe(t[7].action(e)),$(e,"m-click",t[3]),$(e,"m-keydown",t[3])],n=!0)},p(r,a){c&&c.p&&(!s||a&34)&&J(c,d,r,r[5],s?G(d,r[5],a,et):q(r[5]),ne),x(e,g=Ne(m,[a&2&&r[7],a&16&&r[4]]))},i(r){s||(U(c,r),s=!0)},o(r){I(c,r),s=!1},d(r){r&&R(e),c&&c.d(r),n=!1,De(o)}}}function nt(t){let e;const s=t[6].default,n=W(s,t,t[5],oe);return{c(){n&&n.c()},l(o){n&&n.l(o)},m(o,d){n&&n.m(o,d),e=!0},p(o,d){n&&n.p&&(!e||d&34)&&J(n,s,o,o[5],e?G(s,o[5],d,tt):q(o[5]),oe)},i(o){e||(U(n,o),e=!0)},o(o){I(n,o),e=!1},d(o){n&&n.d(o)}}}function ot(t){let e,s,n,o;const d=[nt,rt],c=[];function m(r,a){return r[0]?0:1}function g(r,a){return a===1?st(r):r}return e=m(t),s=c[e]=d[e](g(t,e)),{c(){s.c(),n=Y()},l(r){s.l(r),n=Y()},m(r,a){c[e].m(r,a),le(r,n,a),o=!0},p(r,[a]){let p=e;e=m(r),e===p?c[e].p(g(r,e),a):(Me(),I(c[p],1,1,()=>{c[p]=null}),Ue(),s=c[e],s?s.p(g(r,e),a):(s=c[e]=d[e](g(r,e)),s.c()),U(s,1),s.m(n.parentNode,n))},i(r){o||(U(s),o=!0)},o(r){I(s),o=!1},d(r){r&&R(n),c[e].d(r)}}}function at(t,e,s){const n=["asChild"];let o=Z(e,n),d,{$$slots:c={},$$scope:m}=e,{asChild:g=!1}=e;const{elements:{trigger:r}}=ge.get();K(t,r,p=>s(1,d=p));const a=qe();return t.$$set=p=>{e=j(j({},e),Ee(p)),s(4,o=Z(e,n)),"asChild"in p&&s(0,g=p.asChild),"$$scope"in p&&s(5,m=p.$$scope)},[g,d,r,a,o,m,c]}class it extends ce{constructor(e){super(),ue(this,e,at,ot,ie,{asChild:0})}}const z={};function ae(t){return t==="local"?localStorage:sessionStorage}function Q(t,e,s){const n=(s==null?void 0:s.serializer)??JSON,o=(s==null?void 0:s.storage)??"local";function d(c,m){ae(o).setItem(c,n.stringify(m))}if(!z[t]){const c=T(e,r=>{const a=ae(o).getItem(t);a&&r(n.parse(a));{const p=f=>{f.key===t&&r(f.newValue?n.parse(f.newValue):null)};return window.addEventListener("storage",p),()=>window.removeEventListener("storage",p)}}),{subscribe:m,set:g}=c;z[t]={set(r){d(t,r),g(r)},update(r){const a=r(A(c));d(t,a),g(a)},subscribe:m}}return z[t]}const lt=Q("modeOsPrefers",!1),ct=Q("modeUserPrefers",void 0),ut=Q("modeCurrent",!1);function bt(){const t=window.matchMedia("(prefers-color-scheme: light)").matches;return lt.set(t),t}function ht(t){ct.set(t)}function yt(t){const e=document.documentElement.classList,s="dark";t===!0?e.remove(s):e.add(s),ut.set(t)}function Ot(){const t=document.documentElement.classList,e=localStorage.getItem("modeUserPrefers")==="false",s=!("modeUserPrefers"in localStorage),n=window.matchMedia("(prefers-color-scheme: dark)").matches;e||s&&n?t.add("dark"):t.remove("dark")}const vt=$e,kt=it,Ct=de({base:"fixed z-50 gap-4 bg-background p-6 shadow-lg",variants:{side:{top:"inset-x-0 top-0 border-b ",bottom:"inset-x-0 bottom-0 border-t",left:"inset-y-0 left-0 h-full w-3/4 border-r sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4 border-l sm:max-w-sm"}},defaultVariants:{side:"right"}});de({base:"relative w-full rounded-lg border px-4 py-3 text-sm [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}});export{vt as R,kt as T,ht as a,Ct as b,ge as c,Ot as d,bt as g,ut as m,yt as s};
