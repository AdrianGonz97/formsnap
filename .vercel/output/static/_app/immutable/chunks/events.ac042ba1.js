import{j as ge,w as Q,r as ie}from"./singletons.01533805.js";import{n as P,v as Re,f as ye}from"./index.96f6542b.js";import{S as me,t as Ie,a2 as ke}from"./scheduler.9a75ed56.js";var oe=Object.prototype.hasOwnProperty;function ue(r,e,t){for(t of r.keys())if(K(t,e))return t}function K(r,e){var t,n,a;if(r===e)return!0;if(r&&e&&(t=r.constructor)===e.constructor){if(t===Date)return r.getTime()===e.getTime();if(t===RegExp)return r.toString()===e.toString();if(t===Array){if((n=r.length)===e.length)for(;n--&&K(r[n],e[n]););return n===-1}if(t===Set){if(r.size!==e.size)return!1;for(n of r)if(a=n,a&&typeof a=="object"&&(a=ue(e,a),!a)||!e.has(a))return!1;return!0}if(t===Map){if(r.size!==e.size)return!1;for(n of r)if(a=n[0],a&&typeof a=="object"&&(a=ue(e,a),!a)||!K(n[1],e.get(a)))return!1;return!0}if(t===ArrayBuffer)r=new Uint8Array(r),e=new Uint8Array(e);else if(t===DataView){if((n=r.byteLength)===e.byteLength)for(;n--&&r.getInt8(n)===e.getInt8(n););return n===-1}if(ArrayBuffer.isView(r)){if((n=r.byteLength)===e.byteLength)for(;n--&&r[n]===e[n];);return n===-1}if(!t||typeof r=="object"){n=0;for(t in r)if(oe.call(r,t)&&++n&&!oe.call(e,t)||!(t in e)||!K(r[t],e[t]))return!1;return Object.keys(e).length===n}}return r!==r&&e!==e}function pt(r,e,t,n=!0){const a=e-t;return a<=0?n?r[r.length-1]:r[0]:r[a]}function gt(r,e,t,n=!0){const a=e+t;return a>r.length-1?n?r[0]:r[r.length-1]:r[a]}function yt(r,e,t=!0){return e===r.length-1?t?r[0]:r[e]:r[e+1]}function mt(r,e,t=!0){return e<=0?t?r[r.length-1]:r[0]:r[e-1]}function wt(r){return r[r.length-1]}function Tt(r,e){return r.map((t,n)=>r[(e+n)%r.length])}function Nt(r,e){const t=e.findIndex(n=>K(n,r));return t!==-1?e.splice(t,1):e.push(r),e}function se(r){function e(t){return t(r),()=>{}}return{subscribe:e}}const U=r=>new Proxy(r,{get(e,t,n){return Reflect.get(e,t,n)},ownKeys(e){return Reflect.ownKeys(e).filter(t=>t!=="action")}}),ce=r=>typeof r=="function";function St(r,e){const{stores:t,action:n,returned:a}=e??{},s=(()=>{if(t&&a)return ge(t,l=>{const f=a(l);if(ce(f)){const d=(...m)=>U({...f(...m),[`data-melt-${r}`]:"",action:n??P});return d.action=n??P,d}return U({...f,[`data-melt-${r}`]:"",action:n??P})});{const l=a,f=l==null?void 0:l();if(ce(f)){const d=(...m)=>U({...f(...m),[`data-melt-${r}`]:"",action:n??P});return d.action=n??P,se(d)}return se(U({...f,[`data-melt-${r}`]:"",action:n??P}))}})(),i=n??(()=>{});return i.subscribe=s.subscribe,i}function Ft(r){const e=s=>s?`${r}-${s}`:r,t=s=>`data-melt-${r}${s?`-${s}`:""}`,n=s=>`[data-melt-${r}${s?`-${s}`:""}]`;return{name:e,attribute:t,selector:n,getEl:s=>document.querySelector(n(s))}}const Et=(r,e)=>{const t=(a,s)=>{r.update(i=>{const l=a(i);let f=l;return e&&(f=e({curr:i,next:l})),s==null||s(f),f})};return{...r,update:t,set:a=>{t(()=>a)}}};function Pt(r){return new Promise(e=>setTimeout(e,r))}function Dt(r){return Object.keys(r).reduce((e,t)=>r[t]===void 0?e:e+`${t}:${r[t]};`,"")}function At(){return Re(10)}const we=()=>typeof window<"u";function Oe(){const r=navigator.userAgentData;return(r==null?void 0:r.platform)??navigator.platform}const Te=r=>we()&&r.test(Oe()),Ce=()=>we()&&!!navigator.maxTouchPoints,xe=()=>Te(/^Mac/)&&!Ce(),Le=()=>Te(/mac|iphone|ipad|ipod/i),Be=()=>Le()&&!xe(),Z="data-melt-scroll-lock";function le(r,e){if(!r)return;const t=r.style.cssText;return Object.assign(r.style,e),()=>{r.style.cssText=t}}function $e(r,e,t){if(!r)return;const n=r.style.getPropertyValue(e);return r.style.setProperty(e,t),()=>{n?r.style.setProperty(e,n):r.style.removeProperty(e)}}function Ke(r){const e=r.getBoundingClientRect().left;return Math.round(e)+r.scrollLeft?"paddingLeft":"paddingRight"}function Rt(r){const e=r??document,t=e.defaultView??window,{documentElement:n,body:a}=e;if(a.hasAttribute(Z))return P;a.setAttribute(Z,"");const i=t.innerWidth-n.clientWidth,l=()=>$e(n,"--scrollbar-width",`${i}px`),f=Ke(n),d=t.getComputedStyle(a)[f],m=()=>le(a,{overflow:"hidden",[f]:`calc(${d} + ${i}px)`}),h=()=>{const{scrollX:w,scrollY:O,visualViewport:F}=t,I=(F==null?void 0:F.offsetLeft)??0,M=(F==null?void 0:F.offsetTop)??0,C=le(a,{position:"fixed",overflow:"hidden",top:`${-(O-Math.floor(M))}px`,left:`${-(w-Math.floor(I))}px`,right:"0",[f]:`calc(${d} + ${i}px)`});return()=>{C==null||C(),t.scrollTo(w,O)}},N=[l(),Be()?h():m()];return()=>{N.forEach(w=>w==null?void 0:w()),a.removeAttribute(Z)}}function je(r,e){let t=[];const n=l=>{t.push(l)},a=()=>{t.forEach(l=>l()),t=[]},s=ge(r,l=>(a(),e(l,n)));return me(a),{...s,subscribe:(...l)=>{const f=s.subscribe(...l);return()=>{f(),a()}}}}function It(r,e){const t=je(r,(n,a)=>({stores:n,onUnsubscribe:a})).subscribe(({stores:n,onUnsubscribe:a})=>{const s=e(n);s&&a(s)});return me(t),t}function kt(r){const e={};return Object.keys(r).forEach(t=>{const n=t,a=r[n];e[n]=Q(a)}),e}function Me(r){let e=r.parentElement;for(;ye(e)&&!e.hasAttribute("data-portal");)e=e.parentElement;return e||"body"}function Ot(r,e){const t=Me(r);return e!==void 0?e:t==="body"?document.body:null}/*!
* tabbable 6.2.0
* @license MIT, https://github.com/focus-trap/tabbable/blob/master/LICENSE
*/var Ne=["input:not([inert])","select:not([inert])","textarea:not([inert])","a[href]:not([inert])","button:not([inert])","[tabindex]:not(slot):not([inert])","audio[controls]:not([inert])","video[controls]:not([inert])",'[contenteditable]:not([contenteditable="false"]):not([inert])',"details>summary:first-of-type:not([inert])","details:not([inert])"],W=Ne.join(","),Se=typeof Element>"u",R=Se?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,G=!Se&&Element.prototype.getRootNode?function(r){var e;return r==null||(e=r.getRootNode)===null||e===void 0?void 0:e.call(r)}:function(r){return r==null?void 0:r.ownerDocument},V=function r(e,t){var n;t===void 0&&(t=!0);var a=e==null||(n=e.getAttribute)===null||n===void 0?void 0:n.call(e,"inert"),s=a===""||a==="true",i=s||t&&e&&r(e.parentNode);return i},Ue=function(e){var t,n=e==null||(t=e.getAttribute)===null||t===void 0?void 0:t.call(e,"contenteditable");return n===""||n==="true"},Fe=function(e,t,n){if(V(e))return[];var a=Array.prototype.slice.apply(e.querySelectorAll(W));return t&&R.call(e,W)&&a.unshift(e),a=a.filter(n),a},Ee=function r(e,t,n){for(var a=[],s=Array.from(e);s.length;){var i=s.shift();if(!V(i,!1))if(i.tagName==="SLOT"){var l=i.assignedElements(),f=l.length?l:i.children,d=r(f,!0,n);n.flatten?a.push.apply(a,d):a.push({scopeParent:i,candidates:d})}else{var m=R.call(i,W);m&&n.filter(i)&&(t||!e.includes(i))&&a.push(i);var h=i.shadowRoot||typeof n.getShadowRoot=="function"&&n.getShadowRoot(i),N=!V(h,!1)&&(!n.shadowRootFilter||n.shadowRootFilter(i));if(h&&N){var w=r(h===!0?i.children:h.children,!0,n);n.flatten?a.push.apply(a,w):a.push({scopeParent:i,candidates:w})}else s.unshift.apply(s,i.children)}}return a},Pe=function(e){return!isNaN(parseInt(e.getAttribute("tabindex"),10))},A=function(e){if(!e)throw new Error("No node provided");return e.tabIndex<0&&(/^(AUDIO|VIDEO|DETAILS)$/.test(e.tagName)||Ue(e))&&!Pe(e)?0:e.tabIndex},qe=function(e,t){var n=A(e);return n<0&&t&&!Pe(e)?0:n},We=function(e,t){return e.tabIndex===t.tabIndex?e.documentOrder-t.documentOrder:e.tabIndex-t.tabIndex},De=function(e){return e.tagName==="INPUT"},Ge=function(e){return De(e)&&e.type==="hidden"},Ve=function(e){var t=e.tagName==="DETAILS"&&Array.prototype.slice.apply(e.children).some(function(n){return n.tagName==="SUMMARY"});return t},ze=function(e,t){for(var n=0;n<e.length;n++)if(e[n].checked&&e[n].form===t)return e[n]},Xe=function(e){if(!e.name)return!0;var t=e.form||G(e),n=function(l){return t.querySelectorAll('input[type="radio"][name="'+l+'"]')},a;if(typeof window<"u"&&typeof window.CSS<"u"&&typeof window.CSS.escape=="function")a=n(window.CSS.escape(e.name));else try{a=n(e.name)}catch(i){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",i.message),!1}var s=ze(a,e.form);return!s||s===e},Ye=function(e){return De(e)&&e.type==="radio"},He=function(e){return Ye(e)&&!Xe(e)},Ze=function(e){var t,n=e&&G(e),a=(t=n)===null||t===void 0?void 0:t.host,s=!1;if(n&&n!==e){var i,l,f;for(s=!!((i=a)!==null&&i!==void 0&&(l=i.ownerDocument)!==null&&l!==void 0&&l.contains(a)||e!=null&&(f=e.ownerDocument)!==null&&f!==void 0&&f.contains(e));!s&&a;){var d,m,h;n=G(a),a=(d=n)===null||d===void 0?void 0:d.host,s=!!((m=a)!==null&&m!==void 0&&(h=m.ownerDocument)!==null&&h!==void 0&&h.contains(a))}}return s},fe=function(e){var t=e.getBoundingClientRect(),n=t.width,a=t.height;return n===0&&a===0},Je=function(e,t){var n=t.displayCheck,a=t.getShadowRoot;if(getComputedStyle(e).visibility==="hidden")return!0;var s=R.call(e,"details>summary:first-of-type"),i=s?e.parentElement:e;if(R.call(i,"details:not([open]) *"))return!0;if(!n||n==="full"||n==="legacy-full"){if(typeof a=="function"){for(var l=e;e;){var f=e.parentElement,d=G(e);if(f&&!f.shadowRoot&&a(f)===!0)return fe(e);e.assignedSlot?e=e.assignedSlot:!f&&d!==e.ownerDocument?e=d.host:e=f}e=l}if(Ze(e))return!e.getClientRects().length;if(n!=="legacy-full")return!0}else if(n==="non-zero-area")return fe(e);return!1},Qe=function(e){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(e.tagName))for(var t=e.parentElement;t;){if(t.tagName==="FIELDSET"&&t.disabled){for(var n=0;n<t.children.length;n++){var a=t.children.item(n);if(a.tagName==="LEGEND")return R.call(t,"fieldset[disabled] *")?!0:!a.contains(e)}return!0}t=t.parentElement}return!1},z=function(e,t){return!(t.disabled||V(t)||Ge(t)||Je(t,e)||Ve(t)||Qe(t))},_=function(e,t){return!(He(t)||A(t)<0||!z(e,t))},_e=function(e){var t=parseInt(e.getAttribute("tabindex"),10);return!!(isNaN(t)||t>=0)},et=function r(e){var t=[],n=[];return e.forEach(function(a,s){var i=!!a.scopeParent,l=i?a.scopeParent:a,f=qe(l,i),d=i?r(a.candidates):l;f===0?i?t.push.apply(t,d):t.push(l):n.push({documentOrder:s,tabIndex:f,item:a,isScope:i,content:d})}),n.sort(We).reduce(function(a,s){return s.isScope?a.push.apply(a,s.content):a.push(s.content),a},[]).concat(t)},tt=function(e,t){t=t||{};var n;return t.getShadowRoot?n=Ee([e],t.includeContainer,{filter:_.bind(null,t),flatten:!1,getShadowRoot:t.getShadowRoot,shadowRootFilter:_e}):n=Fe(e,t.includeContainer,_.bind(null,t)),et(n)},rt=function(e,t){t=t||{};var n;return t.getShadowRoot?n=Ee([e],t.includeContainer,{filter:z.bind(null,t),flatten:!0,getShadowRoot:t.getShadowRoot}):n=Fe(e,t.includeContainer,z.bind(null,t)),n},k=function(e,t){if(t=t||{},!e)throw new Error("No node provided");return R.call(e,W)===!1?!1:_(t,e)},nt=Ne.concat("iframe").join(","),J=function(e,t){if(t=t||{},!e)throw new Error("No node provided");return R.call(e,nt)===!1?!1:z(t,e)};/*!
* focus-trap 7.5.2
* @license MIT, https://github.com/focus-trap/focus-trap/blob/master/LICENSE
*/function de(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable})),t.push.apply(t,n)}return t}function ve(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?de(Object(t),!0).forEach(function(n){at(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):de(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function at(r,e,t){return e=ot(e),e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function it(r,e){if(typeof r!="object"||r===null)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function ot(r){var e=it(r,"string");return typeof e=="symbol"?e:String(e)}var be={activateTrap:function(e,t){if(e.length>0){var n=e[e.length-1];n!==t&&n.pause()}var a=e.indexOf(t);a===-1||e.splice(a,1),e.push(t)},deactivateTrap:function(e,t){var n=e.indexOf(t);n!==-1&&e.splice(n,1),e.length>0&&e[e.length-1].unpause()}},ut=function(e){return e.tagName&&e.tagName.toLowerCase()==="input"&&typeof e.select=="function"},st=function(e){return(e==null?void 0:e.key)==="Escape"||(e==null?void 0:e.key)==="Esc"||(e==null?void 0:e.keyCode)===27},j=function(e){return(e==null?void 0:e.key)==="Tab"||(e==null?void 0:e.keyCode)===9},ct=function(e){return j(e)&&!e.shiftKey},lt=function(e){return j(e)&&e.shiftKey},he=function(e){return setTimeout(e,0)},pe=function(e,t){var n=-1;return e.every(function(a,s){return t(a)?(n=s,!1):!0}),n},$=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];return typeof e=="function"?e.apply(void 0,n):e},q=function(e){return e.target.shadowRoot&&typeof e.composedPath=="function"?e.composedPath()[0]:e.target},ft=[],dt=function(e,t){var n=(t==null?void 0:t.document)||document,a=(t==null?void 0:t.trapStack)||ft,s=ve({returnFocusOnDeactivate:!0,escapeDeactivates:!0,delayInitialFocus:!0,isKeyForward:ct,isKeyBackward:lt},t),i={containers:[],containerGroups:[],tabbableGroups:[],nodeFocusedBeforeActivation:null,mostRecentlyFocusedNode:null,active:!1,paused:!1,delayInitialFocusTimer:void 0,recentNavEvent:void 0},l,f=function(o,u,c){return o&&o[u]!==void 0?o[u]:s[c||u]},d=function(o,u){var c=typeof(u==null?void 0:u.composedPath)=="function"?u.composedPath():void 0;return i.containerGroups.findIndex(function(v){var b=v.container,g=v.tabbableNodes;return b.contains(o)||(c==null?void 0:c.includes(b))||g.find(function(y){return y===o})})},m=function(o){var u=s[o];if(typeof u=="function"){for(var c=arguments.length,v=new Array(c>1?c-1:0),b=1;b<c;b++)v[b-1]=arguments[b];u=u.apply(void 0,v)}if(u===!0&&(u=void 0),!u){if(u===void 0||u===!1)return u;throw new Error("`".concat(o,"` was specified but was not a node, or did not return a node"))}var g=u;if(typeof u=="string"&&(g=n.querySelector(u),!g))throw new Error("`".concat(o,"` as selector refers to no known node"));return g},h=function(){var o=m("initialFocus");if(o===!1)return!1;if(o===void 0||!J(o,s.tabbableOptions))if(d(n.activeElement)>=0)o=n.activeElement;else{var u=i.tabbableGroups[0],c=u&&u.firstTabbableNode;o=c||m("fallbackFocus")}if(!o)throw new Error("Your focus-trap needs to have at least one focusable element");return o},N=function(){if(i.containerGroups=i.containers.map(function(o){var u=tt(o,s.tabbableOptions),c=rt(o,s.tabbableOptions),v=u.length>0?u[0]:void 0,b=u.length>0?u[u.length-1]:void 0,g=c.find(function(T){return k(T)}),y=c.slice().reverse().find(function(T){return k(T)}),S=!!u.find(function(T){return A(T)>0});return{container:o,tabbableNodes:u,focusableNodes:c,posTabIndexesFound:S,firstTabbableNode:v,lastTabbableNode:b,firstDomTabbableNode:g,lastDomTabbableNode:y,nextTabbableNode:function(D){var L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,E=u.indexOf(D);return E<0?L?c.slice(c.indexOf(D)+1).find(function(B){return k(B)}):c.slice(0,c.indexOf(D)).reverse().find(function(B){return k(B)}):u[E+(L?1:-1)]}}}),i.tabbableGroups=i.containerGroups.filter(function(o){return o.tabbableNodes.length>0}),i.tabbableGroups.length<=0&&!m("fallbackFocus"))throw new Error("Your focus-trap must have at least one container with at least one tabbable node in it at all times");if(i.containerGroups.find(function(o){return o.posTabIndexesFound})&&i.containerGroups.length>1)throw new Error("At least one node with a positive tabindex was found in one of your focus-trap's multiple containers. Positive tabindexes are only supported in single-container focus-traps.")},w=function p(o){if(o!==!1&&o!==n.activeElement){if(!o||!o.focus){p(h());return}o.focus({preventScroll:!!s.preventScroll}),i.mostRecentlyFocusedNode=o,ut(o)&&o.select()}},O=function(o){var u=m("setReturnFocus",o);return u||(u===!1?!1:o)},F=function(o){var u=o.target,c=o.event,v=o.isBackward,b=v===void 0?!1:v;u=u||q(c),N();var g=null;if(i.tabbableGroups.length>0){var y=d(u,c),S=y>=0?i.containerGroups[y]:void 0;if(y<0)b?g=i.tabbableGroups[i.tabbableGroups.length-1].lastTabbableNode:g=i.tabbableGroups[0].firstTabbableNode;else if(b){var T=pe(i.tabbableGroups,function(Y){var H=Y.firstTabbableNode;return u===H});if(T<0&&(S.container===u||J(u,s.tabbableOptions)&&!k(u,s.tabbableOptions)&&!S.nextTabbableNode(u,!1))&&(T=y),T>=0){var D=T===0?i.tabbableGroups.length-1:T-1,L=i.tabbableGroups[D];g=A(u)>=0?L.lastTabbableNode:L.lastDomTabbableNode}else j(c)||(g=S.nextTabbableNode(u,!1))}else{var E=pe(i.tabbableGroups,function(Y){var H=Y.lastTabbableNode;return u===H});if(E<0&&(S.container===u||J(u,s.tabbableOptions)&&!k(u,s.tabbableOptions)&&!S.nextTabbableNode(u))&&(E=y),E>=0){var B=E===i.tabbableGroups.length-1?0:E+1,ae=i.tabbableGroups[B];g=A(u)>=0?ae.firstTabbableNode:ae.firstDomTabbableNode}else j(c)||(g=S.nextTabbableNode(u))}}else g=m("fallbackFocus");return g},I=function(o){var u=q(o);if(!(d(u,o)>=0)){if($(s.clickOutsideDeactivates,o)){l.deactivate({returnFocus:s.returnFocusOnDeactivate});return}$(s.allowOutsideClick,o)||o.preventDefault()}},M=function(o){var u=q(o),c=d(u,o)>=0;if(c||u instanceof Document)c&&(i.mostRecentlyFocusedNode=u);else{o.stopImmediatePropagation();var v,b=!0;if(i.mostRecentlyFocusedNode)if(A(i.mostRecentlyFocusedNode)>0){var g=d(i.mostRecentlyFocusedNode),y=i.containerGroups[g].tabbableNodes;if(y.length>0){var S=y.findIndex(function(T){return T===i.mostRecentlyFocusedNode});S>=0&&(s.isKeyForward(i.recentNavEvent)?S+1<y.length&&(v=y[S+1],b=!1):S-1>=0&&(v=y[S-1],b=!1))}}else i.containerGroups.some(function(T){return T.tabbableNodes.some(function(D){return A(D)>0})})||(b=!1);else b=!1;b&&(v=F({target:i.mostRecentlyFocusedNode,isBackward:s.isKeyBackward(i.recentNavEvent)})),w(v||i.mostRecentlyFocusedNode||h())}i.recentNavEvent=void 0},C=function(o){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;i.recentNavEvent=o;var c=F({event:o,isBackward:u});c&&(j(o)&&o.preventDefault(),w(c))},ee=function(o){if(st(o)&&$(s.escapeDeactivates,o)!==!1){o.preventDefault(),l.deactivate();return}(s.isKeyForward(o)||s.isKeyBackward(o))&&C(o,s.isKeyBackward(o))},te=function(o){var u=q(o);d(u,o)>=0||$(s.clickOutsideDeactivates,o)||$(s.allowOutsideClick,o)||(o.preventDefault(),o.stopImmediatePropagation())},re=function(){if(i.active)return be.activateTrap(a,l),i.delayInitialFocusTimer=s.delayInitialFocus?he(function(){w(h())}):w(h()),n.addEventListener("focusin",M,!0),n.addEventListener("mousedown",I,{capture:!0,passive:!1}),n.addEventListener("touchstart",I,{capture:!0,passive:!1}),n.addEventListener("click",te,{capture:!0,passive:!1}),n.addEventListener("keydown",ee,{capture:!0,passive:!1}),l},ne=function(){if(i.active)return n.removeEventListener("focusin",M,!0),n.removeEventListener("mousedown",I,!0),n.removeEventListener("touchstart",I,!0),n.removeEventListener("click",te,!0),n.removeEventListener("keydown",ee,!0),l},Ae=function(o){var u=o.some(function(c){var v=Array.from(c.removedNodes);return v.some(function(b){return b===i.mostRecentlyFocusedNode})});u&&w(h())},X=typeof window<"u"&&"MutationObserver"in window?new MutationObserver(Ae):void 0,x=function(){X&&(X.disconnect(),i.active&&!i.paused&&i.containers.map(function(o){X.observe(o,{subtree:!0,childList:!0})}))};return l={get active(){return i.active},get paused(){return i.paused},activate:function(o){if(i.active)return this;var u=f(o,"onActivate"),c=f(o,"onPostActivate"),v=f(o,"checkCanFocusTrap");v||N(),i.active=!0,i.paused=!1,i.nodeFocusedBeforeActivation=n.activeElement,u==null||u();var b=function(){v&&N(),re(),x(),c==null||c()};return v?(v(i.containers.concat()).then(b,b),this):(b(),this)},deactivate:function(o){if(!i.active)return this;var u=ve({onDeactivate:s.onDeactivate,onPostDeactivate:s.onPostDeactivate,checkCanReturnFocus:s.checkCanReturnFocus},o);clearTimeout(i.delayInitialFocusTimer),i.delayInitialFocusTimer=void 0,ne(),i.active=!1,i.paused=!1,x(),be.deactivateTrap(a,l);var c=f(u,"onDeactivate"),v=f(u,"onPostDeactivate"),b=f(u,"checkCanReturnFocus"),g=f(u,"returnFocus","returnFocusOnDeactivate");c==null||c();var y=function(){he(function(){g&&w(O(i.nodeFocusedBeforeActivation)),v==null||v()})};return g&&b?(b(O(i.nodeFocusedBeforeActivation)).then(y,y),this):(y(),this)},pause:function(o){if(i.paused||!i.active)return this;var u=f(o,"onPause"),c=f(o,"onPostPause");return i.paused=!0,u==null||u(),ne(),x(),c==null||c(),this},unpause:function(o){if(!i.paused||!i.active)return this;var u=f(o,"onUnpause"),c=f(o,"onPostUnpause");return i.paused=!1,u==null||u(),N(),re(),x(),c==null||c(),this},updateContainerElements:function(o){var u=[].concat(o).filter(Boolean);return i.containers=u.map(function(c){return typeof c=="string"?n.querySelector(c):c}),i.active&&N(),x(),this}},l.updateContainerElements(e),l};function Ct(r={}){let e;const{immediate:t,...n}=r,a=Q(!1),s=Q(!1),i=h=>e==null?void 0:e.activate(h),l=h=>{e==null||e.deactivate(h)},f=()=>{e&&(e.pause(),s.set(!0))},d=()=>{e&&(e.unpause(),s.set(!1))};return{useFocusTrap:h=>(e=dt(h,{...n,onActivate(){var N;a.set(!0),(N=r.onActivate)==null||N.call(r)},onDeactivate(){var N;a.set(!1),(N=r.onDeactivate)==null||N.call(r)}}),t&&i(),{destroy(){l(),e=void 0}}),hasFocus:ie(a),isPaused:ie(s),activate:i,deactivate:l,pause:f,unpause:d}}const xt=(r,e="body")=>{let t;if(!ye(e)&&typeof e!="string")return{destroy:P};async function n(s){if(e=s,typeof e=="string"){if(t=document.querySelector(e),t===null&&(await Ie(),t=document.querySelector(e)),t===null)throw new Error(`No element found matching css selector: "${e}"`)}else if(e instanceof HTMLElement)t=e;else throw new TypeError(`Unknown portal target type: ${e===null?"null":typeof e}. Allowed types: string (CSS selector) or HTMLElement.`);r.dataset.portal="",t.appendChild(r),r.hidden=!1}function a(){r.remove()}return n(e),{update:n,destroy:a}};function Lt(){const r=ke();return e=>{const{originalEvent:t}=e.detail,{cancelable:n}=e,a=t.type;r(a,{originalEvent:t,currentTarget:t.currentTarget},{cancelable:n})||e.preventDefault()}}export{Ft as a,St as b,Lt as c,Dt as d,It as e,Ct as f,At as g,Ot as h,pt as i,gt as j,Nt as k,wt as l,yt as n,Et as o,mt as p,Rt as r,Pt as s,kt as t,xt as u,Tt as w};
